{"version":3,"sources":["Components/AddEvent/AddEvent.jsx","App.js","index.js"],"names":["AddEvent","useState","imageURL","setImageURL","events","setEvents","useForm","register","handleSubmit","formState","errors","useEffect","fetch","then","res","json","data","className","onSubmit","eventData","name","date","email","method","headers","body","JSON","stringify","result","console","log","placeholder","type","onChange","e","imageData","FormData","set","append","target","files","display_url","map","event","onClick","id","_id","src","alt","App","ReactDOM","render","document","getElementById"],"mappings":"oOAiHeA,EA7GE,WACf,MAAgCC,qBAAhC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA4BF,mBAAS,IAArC,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAKIC,cAJFC,EADF,EACEA,SACAC,EAFF,EAEEA,aAFF,EAIEC,UAAaC,OAqCfC,qBAAU,WACRC,MAAM,gCACHC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLX,EAAUW,QAEb,IAgBH,OACE,mCACE,sBAAKC,UAAU,YAAf,UACE,uBAAMA,UAAU,OAAOC,SAAUV,GA3DtB,SAACQ,GAChB,IAAMG,EAAY,CAChBC,KAAMJ,EAAKI,KACXC,KAAML,EAAKK,KACXC,MAAON,EAAKM,MACZpB,SAAUA,GAGZU,MADS,iCACE,CACTW,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUR,KAEpBN,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACe,GACLC,QAAQC,IAAIF,SA0CZ,UACE,sBAAKX,UAAU,WAAf,UACE,+CAAOG,KAAK,SAAYb,EAAS,SAAjC,IAA0CwB,YAAY,eACtD,uBAEA,+CAAOX,KAAK,QAAWb,EAAS,SAAhC,IAAyCwB,YAAY,UACrD,uBAEA,+CAAOX,KAAK,SAAYb,EAAS,UAAjC,IAA2CwB,YAAY,WACvD,uBACA,+CACEX,KAAK,SACDb,EAAS,UAFf,IAGEyB,KAAK,OACLD,YAAY,QACZE,SAtDc,SAACC,GACzB,IAAMC,EAAY,IAAIC,SACtBD,EAAUE,IAAI,MAAO,oCACrBF,EAAUG,OAAO,QAASJ,EAAEK,OAAOC,MAAM,IACzC5B,MAAM,iCAAkC,CACtCW,OAAQ,OACRE,KAAMU,IAELtB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACe,GACLzB,EAAYyB,EAAOZ,KAAKyB,oBA8CpB,0BAEF,uBAAOT,KAAK,cAEd,8BACG5B,EAAOsC,KAAI,SAACC,GACX,OACE,gCACE,uBACA,oBAAI1B,UAAU,6BAAd,SAA4C0B,EAAMvB,OAClD,4BAAIuB,EAAMtB,OACV,4BAAIsB,EAAMrB,QACV,wBAAQsB,QAAS,kBA9CVC,EA8C4BF,EAAMG,SA7CrDlC,MAAM,qCAAD,OAAsCiC,GAAM,CAC/CtB,OAAQ,SACRC,QAAS,CACP,eAAgB,sBAGjBX,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACe,GACLC,QAAQC,IAAI,SAAUF,GACtBC,QAAQC,IAAI,UAAWe,MAVT,IAACA,GA8CP,oBACA,qBAAK5B,UAAU,OAAO8B,IAAKJ,EAAMzC,SAAU8C,IAAKL,EAAMvB,SAN9CuB,EAAMG,gBCrFfG,G,KARH,WACV,OACE,qBAAKhC,UAAU,6BAAf,SACE,cAAC,EAAD,QCFNiC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,U","file":"static/js/main.09b78199.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport \"./AddEvent.css\";\n\nconst AddEvent = () => {\n  const [imageURL, setImageURL] = useState();\n  const [events, setEvents] = useState([]);\n  const {\n    register,\n    handleSubmit,\n    // eslint-disable-next-line no-unused-vars\n    formState: { errors },\n  } = useForm();\n\n  const onSubmit = (data) => {\n    const eventData = {\n      name: data.name,\n      date: data.date,\n      email: data.email,\n      imageURL: imageURL,\n    };\n    const url = `http://localhost:3000/addEvent`;\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(eventData),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(result);\n      });\n  };\n  const handleImageUpload = (e) => {\n    const imageData = new FormData();\n    imageData.set(\"key\", \"c52aaab726332e238f3d9d23a75a804e\");\n    imageData.append(\"image\", e.target.files[0]);\n    fetch(\"https://api.imgbb.com/1/upload\", {\n      method: \"POST\",\n      body: imageData,\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        setImageURL(result.data.display_url);\n      });\n  };\n\n  useEffect(() => {\n    fetch(\"http://localhost:3000/events\")\n      .then((res) => res.json())\n      .then((data) => {\n        setEvents(data);\n      });\n  }, []);\n\n  const deleteEvent = (id) => {\n    fetch(`http://localhost:3000/deleteEvent/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        console.log(\"result\", result);\n        console.log(\"deleted\", id);\n      });\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        <form className=\"form\" onSubmit={handleSubmit(onSubmit)}>\n          <div className=\"allInput\">\n            <input name=\"title\" {...register(\"name\")} placeholder=\"Your Name\" />\n            <br />\n\n            <input name=\"date\" {...register(\"date\")} placeholder=\"Date\" />\n            <br />\n\n            <input name=\"email\" {...register(\"email\")} placeholder=\"Email\" />\n            <br />\n            <input\n              name=\"image\"\n              {...register(\"image\")}\n              type=\"file\"\n              placeholder=\"Image\"\n              onChange={handleImageUpload}\n            />\n            <br />\n          </div>\n          <input type=\"submit\" />\n        </form>\n        <div>\n          {events.map((event) => {\n            return (\n              <div key={event._id}>\n                <br />\n                <h3 className=\"text-center text-white-900\">{event.name}</h3>\n                <p>{event.date}</p>\n                <p>{event.email}</p>\n                <button onClick={() => deleteEvent(event._id)}>Delete</button>\n                <img className=\"w-10\" src={event.imageURL} alt={event.name} />\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default AddEvent;\n","import React from \"react\";\nimport AddEvent from \"./Components/AddEvent/AddEvent\";\nimport \"./index.css\";\n\nconst App = () => {\n  return (\n    <div className=\"text-center text-green-900\">\n      <AddEvent />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}